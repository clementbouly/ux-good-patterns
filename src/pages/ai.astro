---
import PageLayout from "@/layouts/PageLayout.astro";
import { AiContextActions } from "@/components/AiContextActions";
import { CopyableUrl } from "@/components/CopyableUrl";
import { getLangFromLocale, useTranslations, type Lang } from "@/i18n";

const lang = getLangFromLocale(Astro.currentLocale) as Lang;
const t = useTranslations(lang);
---

<PageLayout title={`${t("ai.title")} | The Good, The Bad and The UX`} description={t("ai.tagline")}>
  <div class="mx-auto max-w-3xl">
    <h1 class="text-3xl font-bold mb-2">{t("ai.title")}</h1>
    <p class="text-muted-foreground mb-8">
      {t("ai.tagline")}
    </p>

    <div class="rounded-xl border bg-card p-6 md:p-8 mb-8">
      <h2 class="text-xl font-semibold mb-4">{t("ai.whatIsThis")}</h2>
      <p class="text-muted-foreground mb-4">
        {t("ai.description1")}
      </p>
      <p class="text-muted-foreground">
        {t("ai.description2Before")} <span class="text-foreground font-medium">"{t("ai.description2Example1")}"</span>{t("ai.description2Middle")} <span class="text-foreground font-medium">"{t("ai.description2Example2")}"</span> {t("ai.description2After")}
      </p>
    </div>

    <div class="rounded-xl border bg-card p-6 md:p-8 mb-8">
      <h2 class="text-xl font-semibold mb-4">{t("ai.howToUse")}</h2>

      <div class="space-y-6">
        <div>
          <h3 class="font-medium mb-2 flex items-center gap-2">
            <span class="flex h-6 w-6 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold">1</span>
            {t("ai.step1Title")}
          </h3>
          <p class="text-muted-foreground text-sm mb-3 ml-8">
            {t("ai.step1Description")}
          </p>
          <div class="ml-8">
            <CopyableUrl url="https://uxgoodpatterns.com/ux-rules.md" client:load />
          </div>
        </div>

        <div class="border-t pt-6">
          <h3 class="font-medium mb-2 flex items-center gap-2">
            <span class="flex h-6 w-6 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold">2</span>
            {t("ai.step2Title")}
          </h3>
          <p class="text-muted-foreground text-sm mb-3 ml-8">
            {t("ai.step2Description")}
          </p>
        </div>

        <div class="border-t pt-6">
          <h3 class="font-medium mb-2 flex items-center gap-2">
            <span class="flex h-6 w-6 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-bold">3</span>
            {t("ai.step3Title")}
          </h3>
          <p class="text-muted-foreground text-sm mb-3 ml-8">
            {t("ai.step3Description")}
          </p>
        </div>
      </div>
    </div>

    <AiContextActions client:load />

    <div class="rounded-xl border border-dashed bg-muted/30 p-6 text-center">
      <p class="text-sm text-muted-foreground">
        {t("ai.autoGenerated")}
      </p>
    </div>
  </div>
</PageLayout>
